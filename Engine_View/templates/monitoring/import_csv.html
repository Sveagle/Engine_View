{% extends 'base.html' %}
{% load static %}

{% block title %}–ò–º–ø–æ—Ä—Ç CSV - Engine View ¬∑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—É–¥–æ–≤—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-xxl-10 col-xl-12">
        <!-- –ì–ª–∞–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
        <div class="glass-effect rounded-3 overflow-hidden mb-4" style="background: var(--surface-color); border: 1px solid var(--border-color);">
            <!-- –•–µ–¥–µ—Ä —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º -->
            <div class="bg-primary-gradient text-white p-4">
                <div class="d-flex align-items-center justify-content-between">
                    <div>
                        <h2 class="mb-1 fw-bold"><i class="bi bi-cloud-upload me-2"></i>–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV</h2>
                        <p class="mb-0 opacity-75">–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å—É–¥–æ–≤—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π</p>
                    </div>
                    <div class="rounded-pill px-3 py-1" style="background: linear-gradient(135deg, #fff, #e3f2fd); color: #1976d2 !important; border: 1px solid #bbdefb;">
                        <i class="bi bi-filetype-csv me-1"></i>CSV Format
                    </div>
                </div>
            </div>

            <div class="p-4">
                <!-- –ò–ù–°–¢–†–£–ö–¶–ò–Ø - –§–ò–ö–° –¶–í–ï–¢–û–í -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="alert alert-modern border-0" style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3);">
                            <div class="d-flex align-items-center">
                                <i class="bi bi-info-circle-fill text-primary fs-3 me-3"></i>
                                <div style="color: var(--text-color);">
                                    <h5 class="text-primary mb-2">üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–º–ø–æ—Ä—Ç—É</h5>
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <div class="d-flex align-items-center" style="color: var(--text-color);">
                                                <span class="badge bg-primary me-2">1</span>
                                                <span>–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ CSV —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏</span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="d-flex align-items-center" style="color: var(--text-color);">
                                                <span class="badge bg-primary me-2">2</span>
                                                <span>–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ - –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫</span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="d-flex align-items-center" style="color: var(--text-color);">
                                                <span class="badge bg-primary me-2">3</span>
                                                <span>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞: <code style="background: rgba(59, 130, 246, 0.2); color: var(--text-color); padding: 2px 6px; border-radius: 4px;">timestamp</code></span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="d-flex align-items-center" style="color: var(--text-color);">
                                                <span class="badge bg-primary me-2">4</span>
                                                <span>–ö–æ–ª–æ–Ω–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–æ–¥–∞–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –§–æ—Ä–º–∞ –∏–º–ø–æ—Ä—Ç–∞ -->
                <form method="post" enctype="multipart/form-data" id="import-form" class="needs-validation" novalidate>
                    {% csrf_token %}
                    
                    <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ —Å—É–¥–Ω–∞ –∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è -->
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <div class="form-group-modern">
                                <label for="{{ form.vessel.id_for_label }}" class="form-label fw-semibold" style="color: var(--text-color);">
                                    <i class="bi bi-ship me-2"></i>–°—É–¥–Ω–æ *
                                </label>
                                <div class="input-group-modern">
                                    {{ form.vessel }}
                                </div>
                                {% if form.vessel.errors %}
                                <div class="text-danger small mt-1">
                                    {% for error in form.vessel.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="form-group-modern">
                                <label for="{{ form.engine.id_for_label }}" class="form-label fw-semibold" style="color: var(--text-color);">
                                    <i class="bi bi-gear me-2"></i>–î–≤–∏–≥–∞—Ç–µ–ª—å *
                                </label>
                                <div class="input-group-modern">
                                    {{ form.engine }}
                                </div>
                                {% if form.engine.errors %}
                                <div class="text-danger small mt-1">
                                    {% for error in form.engine.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <!-- –ë–ª–æ–∫ —Ñ–∞–π–ª–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <div class="form-group-modern">
                                <label for="{{ form.csv_file.id_for_label }}" class="form-label fw-semibold" style="color: var(--text-color);">
                                    <i class="bi bi-file-earmark-arrow-up me-2"></i>CSV —Ñ–∞–π–ª *
                                </label>
                                <div class="file-upload-area" id="file-upload-area" style="background: var(--surface-color); border: 2px dashed var(--border-color);">
                                    <div class="file-upload-content">
                                        <i class="bi bi-cloud-upload display-4" style="color: var(--text-muted);"></i>
                                        <p class="mb-2" style="color: var(--text-color);">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                                        <small class="text-muted">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–∞–π–ª—ã .csv, .txt</small>
                                        {{ form.csv_file }}
                                    </div>
                                    <div class="file-preview d-none" id="file-preview" style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3);">
                                        <i class="bi bi-file-earmark-text text-success me-2"></i>
                                        <span id="file-name" style="color: var(--text-color);">file.csv</span>
                                        <button type="button" class="btn-close btn-close-sm ms-2" onclick="clearFile()"></button>
                                    </div>
                                </div>
                                <small class="form-text text-muted mt-2">{{ form.csv_file.help_text }}</small>
                                {% if form.csv_file.errors %}
                                <div class="text-danger small mt-1">
                                    {% for error in form.csv_file.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="col-md-3 mb-3">
                            <div class="form-group-modern">
                                <label for="{{ form.delimiter.id_for_label }}" class="form-label fw-semibold" style="color: var(--text-color);">
                                    <i class="bi bi-text-paragraph me-2"></i>–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
                                </label>
                                <div class="input-group-modern">
                                    {{ form.delimiter }}
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-3 mb-3">
                            <div class="form-group-modern">
                                <label for="{{ form.timestamp_format.id_for_label }}" class="form-label fw-semibold" style="color: var(--text-color);">
                                    <i class="bi bi-calendar-event me-2"></i>–§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã
                                </label>
                                <div class="input-group-modern">
                                    {{ form.timestamp_format }}
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="d-flex flex-wrap gap-3">
                                <button type="submit" class="btn btn-success-modern btn-lg px-4 py-3" id="submit-btn">
                                    <i class="bi bi-cloud-upload me-2"></i>
                                    <span>–ù–∞—á–∞—Ç—å –∏–º–ø–æ—Ä—Ç</span>
                                    <div class="spinner-border spinner-border-sm ms-2 d-none" id="submit-spinner"></div>
                                </button>
                                
                                <a href="{% url 'monitoring:download_csv_template' %}" class="btn btn-outline-primary-modern btn-lg px-4 py-3">
                                    <i class="bi bi-download me-2"></i>
                                    –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω
                                </a>
                                
                                <a href="{% url 'monitoring:measurement_list' %}" class="btn btn-outline-secondary-modern btn-lg px-4 py-3">
                                    <i class="bi bi-arrow-left me-2"></i>
                                    –ù–∞–∑–∞–¥ –∫ –¥–∞–Ω–Ω—ã–º
                                </a>
                            </div>
                        </div>
                    </div>
                </form>

                <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                <div class="mt-4">
                    <a href="{% url 'monitoring:parameter_management' %}" class="btn btn-outline-primary-modern">
                        <i class="bi bi-sliders me-2"></i>
                        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
                    </a>
                </div>

                <!-- –°–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
                {% if created_parameters %}
                <div class="mt-4">
                    <div class="alert alert-success border-0" style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3);">
                        <h5 class="mb-3" style="color: var(--text-color);"><i class="bi bi-check-circle-fill me-2"></i>‚úÖ –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h5>
                        <div class="row g-2">
                            {% for param in created_parameters %}
                            <div class="col-md-6">
                                <div class="rounded p-2" style="background: rgba(255, 255, 255, 0.5);">
                                    <strong style="color: var(--text-color);">{{ param.name }}</strong>
                                    <code class="ms-2" style="background: rgba(59, 130, 246, 0.2); color: var(--text-color); padding: 2px 6px; border-radius: 4px;">{{ param.code }}</code>
                                    <span class="badge bg-light text-dark ms-2">{{ param.unit|default:"—Ç–µ–∫—Å—Ç–æ–≤—ã–π" }}</span>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% endif %}

                <!-- –°–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ -->
                <div class="mt-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="mb-0" style="color: var(--text-color);">
                            <i class="bi bi-list-ul me-2"></i>üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
                        </h5>
                        <div class="input-group" style="max-width: 300px;">
                            <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤..." id="param-search" style="background: var(--surface-color); border: 1px solid var(--border-color); color: var(--text-color);">
                            <button class="btn btn-outline-primary" type="button" style="border-color: var(--border-color);">
                                <i class="bi bi-search"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="table-responsive">
                        <table class="table table-striped" id="parameters-table" style="background: var(--surface-color);">
                            <thead>
                                <tr>
                                    <th width="20%" style="background: var(--surface-color); color: var(--text-color); border-color: var(--border-color);">–ö–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞</th>
                                    <th width="25%" style="background: var(--surface-color); color: var(--text-color); border-color: var(--border-color);">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                    <th width="15%" style="background: var(--surface-color); color: var(--text-color); border-color: var(--border-color);">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è</th>
                                    <th width="40%" style="background: var(--surface-color); color: var(--text-color); border-color: var(--border-color);">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for param in parameter_types %}
                                <tr class="param-row" style="background: var(--surface-color);">
                                    <td style="color: var(--text-color); border-color: var(--border-color);">
                                        <code class="param-code" style="background: rgba(59, 130, 246, 0.2); color: var(--text-color);">{{ param.code }}</code>
                                    </td>
                                    <td style="color: var(--text-color); border-color: var(--border-color);">
                                        <strong>{{ param.name }}</strong>
                                    </td>
                                    <td style="color: var(--text-color); border-color: var(--border-color);">
                                        {% if param.unit %}
                                        <span class="badge bg-primary">{{ param.unit }}</span>
                                        {% else %}
                                        <span class="text-muted">‚Äî</span>
                                        {% endif %}
                                    </td>
                                    <td style="color: var(--text-color); border-color: var(--border-color);">
                                        {{ param.description|default:"–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç" }}
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ -->
                {% if import_errors %}
                <div class="mt-4">
                    <div class="alert alert-danger border-0" style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3);">
                        <h5 class="mb-3" style="color: var(--text-color);"><i class="bi bi-exclamation-triangle-fill me-2"></i>‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ</h5>
                        <div class="error-scroll" style="max-height: 300px; overflow-y: auto;">
                            {% for error in import_errors %}
                            <div class="error-item rounded p-2 mb-2" style="background: rgba(255, 255, 255, 0.5);">
                                <i class="bi bi-x-circle-fill text-danger me-2"></i>
                                <span style="color: var(--text-color);">{{ error }}</span>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<style>
/* FIX: –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ */
.glass-effect {
    background: var(--surface-color) !important;
    border: 1px solid var(--border-color) !important;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—ã */
.form-group-modern {
    margin-bottom: 1.5rem;
}

.form-group-modern .form-label {
    color: var(--text-color) !important;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.input-group-modern select,
.input-group-modern input {
    background: var(--surface-color) !important;
    border: 2px solid var(--border-color) !important;
    border-radius: 10px !important;
    padding: 12px 16px !important;
    color: var(--text-color) !important;
    transition: all 0.3s ease;
    width: 100%;
}

.input-group-modern select:focus,
.input-group-modern input:focus {
    border-color: #667eea !important;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è file upload */
.file-upload-area {
    border: 2px dashed var(--border-color) !important;
    border-radius: 12px;
    padding: 2rem;
    text-align: center;
    transition: all 0.3s ease;
    background: var(--surface-color) !important;
    cursor: pointer;
    position: relative;
}

.file-upload-area:hover {
    border-color: #667eea !important;
    background: rgba(102, 126, 234, 0.05) !important;
}

.file-upload-area.dragover {
    border-color: #10b981 !important;
    background: rgba(16, 185, 129, 0.1) !important;
}

.file-upload-content input[type="file"] {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0;
    cursor: pointer;
}

.file-preview {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    background: rgba(16, 185, 129, 0.1) !important;
    border-radius: 8px;
    border: 1px solid rgba(16, 185, 129, 0.3) !important;
}

/* –ö–Ω–æ–ø–∫–∏ */
.btn-success-modern {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    border: none;
    color: white;
    font-weight: 600;
    transition: all 0.3s ease;
}

.btn-success-modern:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
    color: white;
}

.btn-outline-primary-modern {
    border: 2px solid #667eea !important;
    color: #667eea !important;
    font-weight: 500;
    transition: all 0.3s ease;
    background: transparent !important;
}

.btn-outline-primary-modern:hover {
    background: #667eea !important;
    color: white !important;
    transform: translateY(-1px);
}

.btn-outline-secondary-modern {
    border: 2px solid var(--border-color) !important;
    color: var(--text-color) !important;
    font-weight: 500;
    transition: all 0.3s ease;
    background: transparent !important;
}

.btn-outline-secondary-modern:hover {
    background: var(--border-color) !important;
    color: var(--text-color) !important;
    transform: translateY(-1px);
}

/* –¢–∞–±–ª–∏—Ü–∞ */
.table {
    color: var(--text-color) !important;
}

.table th {
    background: var(--surface-color) !important;
    color: var(--text-color) !important;
    border-color: var(--border-color) !important;
}

.table td {
    border-color: var(--border-color) !important;
    background: var(--surface-color) !important;
}

.table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(0, 0, 0, 0.05) !important;
}

[data-bs-theme="dark"] .table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* –ê–ª–µ—Ä—Ç—ã */
.alert {
    color: var(--text-color) !important;
}

.alert-success {
    background: rgba(16, 185, 129, 0.1) !important;
    border: 1px solid rgba(16, 185, 129, 0.3) !important;
}

.alert-danger {
    background: rgba(239, 68, 68, 0.1) !important;
    border: 1px solid rgba(239, 68, 68, 0.3) !important;
}

.alert-info {
    background: rgba(59, 130, 246, 0.1) !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
}
</style>

<script>
// –û—Å—Ç–∞–ª—å–Ω–æ–π JavaScript –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
// Drag and drop –¥–ª—è —Ñ–∞–π–ª–∞
const fileUploadArea = document.getElementById('file-upload-area');
const fileInput = document.querySelector('input[type="file"]');
const filePreview = document.getElementById('file-preview');
const fileName = document.getElementById('file-name');
const fileUploadContent = document.querySelector('.file-upload-content');

['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
    fileUploadArea.addEventListener(eventName, preventDefaults, false);
});

function preventDefaults(e) {
    e.preventDefault();
    e.stopPropagation();
}

['dragenter', 'dragover'].forEach(eventName => {
    fileUploadArea.addEventListener(eventName, highlight, false);
});

['dragleave', 'drop'].forEach(eventName => {
    fileUploadArea.addEventListener(eventName, unhighlight, false);
});

function highlight() {
    fileUploadArea.classList.add('dragover');
}

function unhighlight() {
    fileUploadArea.classList.remove('dragover');
}

fileUploadArea.addEventListener('drop', handleDrop, false);

function handleDrop(e) {
    const dt = e.dataTransfer;
    const files = dt.files;
    fileInput.files = files;
    handleFiles(files);
}

fileInput.addEventListener('change', function() {
    handleFiles(this.files);
});

function handleFiles(files) {
    if (files.length > 0) {
        const file = files[0];
        fileName.textContent = file.name;
        fileUploadContent.classList.add('d-none');
        filePreview.classList.remove('d-none');
    }
}

function clearFile() {
    fileInput.value = '';
    fileUploadContent.classList.remove('d-none');
    filePreview.classList.add('d-none');
}

// –ü–æ–∏—Å–∫ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
document.getElementById('param-search').addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    const rows = document.querySelectorAll('.param-row');
    
    rows.forEach(row => {
        const text = row.textContent.toLowerCase();
        const code = row.querySelector('.param-code').textContent.toLowerCase();
        
        if (text.includes(searchTerm) || code.includes(searchTerm)) {
            row.style.display = '';
        } else {
            row.style.display = 'none';
        }
    });
});

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π
document.getElementById('id_vessel').addEventListener('change', function() {
    const submitBtn = document.getElementById('submit-btn');
    const spinner = document.getElementById('submit-spinner');
    
    submitBtn.disabled = true;
    spinner.classList.remove('d-none');
    
    setTimeout(() => {
        document.getElementById('import-form').submit();
    }, 500);
});

// –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
document.getElementById('import-form').addEventListener('submit', function(e) {
    const submitBtn = document.getElementById('submit-btn');
    const spinner = document.getElementById('submit-spinner');
    
    submitBtn.disabled = true;
    spinner.classList.remove('d-none');
    submitBtn.querySelector('span').textContent = '–ò–º–ø–æ—Ä—Ç...';
});
</script>
{% endblock %}