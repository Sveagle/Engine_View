{% extends 'base.html' %}
{% load static %}

{% block title %}–î–µ—Ç–∞–ª–∏ –∑–∞–º–µ—Ä–∞ - Engine View{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'pages:home' %}">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li class="breadcrumb-item"><a href="{% url 'monitoring:measurement_list' %}">–î–∞–Ω–Ω—ã–µ</a></li>
                <li class="breadcrumb-item active">–î–µ—Ç–∞–ª–∏ –∑–∞–º–µ—Ä–∞ #{{ measurement.id }}</li>
            </ol>
        </nav>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìä –î–µ—Ç–∞–ª–∏ –∑–∞–º–µ—Ä–∞</h1>
            <div>
                <a href="{% url 'monitoring:measurement_list' %}" class="btn btn-outline-secondary me-2">
                    ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
                </a>
                <a href="{% url 'monitoring:trends' %}?engine={{ measurement.engine.id }}" class="btn btn-primary">
                    üìà –°–º–æ—Ç—Ä–µ—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏
                </a>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card param-card">
                    <div class="card-header bg-primary text-white">
                        <h6 class="mb-0">üõ≥Ô∏è –°—É–¥–Ω–æ</h6>
                    </div>
                    <div class="card-body text-center">
                        <h4>{{ measurement.engine.vessel.name }}</h4>
                        <p class="text-muted mb-0">IMO: {{ measurement.engine.vessel.imo_number|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card param-card">
                    <div class="card-header bg-success text-white">
                        <h6 class="mb-0">‚öôÔ∏è –î–≤–∏–≥–∞—Ç–µ–ª—å</h6>
                    </div>
                    <div class="card-body text-center">
                        <h4>{{ measurement.engine.name }}</h4>
                        <p class="text-muted mb-0">–¢–∏–ø: {{ measurement.engine.engine_type|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card param-card">
                    <div class="card-header bg-info text-white">
                        <h6 class="mb-0">üìÖ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</h6>
                    </div>
                    <div class="card-body text-center">
                        <h4>{{ measurement.timestamp|date:"d.m.Y" }}</h4>
                        <p class="text-muted mb-0">{{ measurement.timestamp|date:"H:i:s" }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card text-center">
                    <div class="card-header">üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
                    <div class="card-body">
                        <h3>{{ measurement.temperature|default:"–ù/–î" }}</h3>
                        <p class="text-muted mb-0">¬∞C</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center">
                    <div class="card-header">üìä –î–∞–≤–ª–µ–Ω–∏–µ</div>
                    <div class="card-body">
                        <h3>{{ measurement.pressure|default:"–ù/–î" }}</h3>
                        <p class="text-muted mb-0">–±–∞—Ä</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center">
                    <div class="card-header">üîÑ –û–±–æ—Ä–æ—Ç—ã</div>
                    <div class="card-body">
                        <h3>{{ measurement.rpm|default:"–ù/–î" }}</h3>
                        <p class="text-muted mb-0">–æ–±/–º–∏–Ω</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center">
                    <div class="card-header">‚õΩ –†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞</div>
                    <div class="card-body">
                        <h3>{{ measurement.fuel_consumption|default:"–ù/–î" }}</h3>
                        <p class="text-muted mb-0">–ª/—á</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ -->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">üìã –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–º–µ—Ä–∞</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead class="table-dark">
                            <tr>
                                <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                                <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                                <th>–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</td>
                                <td>{{ measurement.temperature|default:"–ù/–î" }}</td>
                                <td>¬∞C</td>
                            </tr>
                            <tr>
                                <td>–î–∞–≤–ª–µ–Ω–∏–µ</td>
                                <td>{{ measurement.pressure|default:"–ù/–î" }}</td>
                                <td>–±–∞—Ä</td>
                            </tr>
                            <tr>
                                <td>–û–±–æ—Ä–æ—Ç—ã –¥–≤–∏–≥–∞—Ç–µ–ª—è</td>
                                <td>{{ measurement.rpm|default:"–ù/–î" }}</td>
                                <td>–æ–±/–º–∏–Ω</td>
                            </tr>
                            <tr>
                                <td>–†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞</td>
                                <td>{{ measurement.fuel_consumption|default:"–ù/–î" }}</td>
                                <td>–ª/—á</td>
                            </tr>
                            <tr>
                                <td>–î–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å–ª–∞</td>
                                <td>{{ measurement.oil_pressure|default:"–ù/–î" }}</td>
                                <td>–±–∞—Ä</td>
                            </tr>
                            <tr>
                                <td>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ö–ª–∞–∂–¥–∞—é—â–µ–π –∂–∏–¥–∫–æ—Å—Ç–∏</td>
                                <td>{{ measurement.coolant_temperature|default:"–ù/–î" }}</td>
                                <td>¬∞C</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}